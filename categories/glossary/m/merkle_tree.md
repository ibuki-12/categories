---
title: マークルツリー
taxonomy:
    category:
        - glossary
---

以下の英語の用語と説明を日本語にしてください。忠実な翻訳でなくて構いません。AI翻訳にかけて内容を理解した上で、ご自身の言葉で説明してください。

日本語の提案はGitHubでプルリクエストとして受付中。プルリクエストがマージされたら、報酬をライトニング⚡️送金します。
提案手順は[こちら](https://github.com/lostinbitcoin/categories/wiki)の「2. 用語集の用語説明の提案手順」をご参照ください。

## Merkle Tree
2,100 sats

マークルツリーとはビットコインで使われる特別な性質を持つデータ構造のことを指し、特定のブロック内に含まれるすべてのトランザクションを効率的かつ安全に管理するために利用されます。このデータ構造によって特定のトランザクションの有効性を迅速に確認でき、ブロック全体の整合性も保証されます。この特性は、ブロックチェーン全体を保存せず、特定のトランザクションやブロックにのみ関心を持つSPVノードやライトクライアントにとって非常に有用です。

例えばアリスがウォレットを持っていて、特定のトランザクションの承認を待っていると仮定します。アリスがフルノードを運用していない場合、ボブというフルノード運用者に対して「マークル証明」をリクエストできます。この証明により、ボブが全てのトランザクションやブロック全体を共有しなくても、アリスは自身が確認したいトランザクションが有効なブロックに含まれていることを確かめられます。

技術的には、マークルツリーには複数のレイヤーがあります。最初のレイヤーはそのブロックに含まれるすべてのトランザクションID（txid）のリストです。このtxidのペアを連結してSHA-256でハッシュ化することによって、2番目のレイヤーが生成されます。このレイヤーの要素数は、1つ前のレイヤーの半分になります。このプロセスを繰り返していくと、最後のレイヤーには1つのハッシュだけが残ります。これがマークルルート（Merkle Root）と呼ばれるものです。ハッシュの特性上、1つのtxidが変更されるとその影響がマークルツリー全体に伝播し、マークルルートのハッシュは完全に変化します。

![](/_images/glossary-ma_1.png)

マークルツリーの利点は、ツリー全体を明らかにすることなく、特定のトランザクションIDがツリーに含まれていることを証明できる点です。例えば8つのトランザクションが含まれたマークルツリーでは、1つのtxidが含まれていることを証明するために必要なハッシュはわずか3つです。これによってライトクライアントは効率的に機能し、ブロックチェーン全体を保存することなく特定のトランザクションが確認済であることを他のノードに照会できます。

![](/_images/glossary-ma_2.png)

---
コンテンツの著作権は [River Financial](https://river.com/) に帰属します。二次利用の可否は権利者にご確認ください。 / All rights reserved to River Financial.
